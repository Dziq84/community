//Author: Iceflower
//Save editmode, only the selected priv level can edit but everyone can spawn

setdesc "saveedit" "Save editmode, only the selected priv level can edit but everyone can spawn;^n0 = off, 1 = player, 2 = supporter, 3 = moderator, 4 = operator, 5 = administrator, 6 = developer, 7 = founder" "<value>"
saveedit = [saveeditmode $arg1] //because the content would spam the screen
saveeditmode = [
	editlev_v = $arg1
	if (& (= (getclientpriv ($getclientnum) $editlev_v) 1) (= (gamemode) 1)) [ //execute the saveeditmode only if you have the required priv level and the gamemode is edit
		if (> $editlev_v 0) [
			mastermode 2
			spawneditlock 0 //everybody can spawn
			editlock $editlev_v //sets the choosen editlock
			me "^f[0xffde00]sets save editmode to level" $editlev_v //feedback
		] [
			mastermode 0
			spawneditlock 3
			editlock 4
			// default vars
			me "^f[0xffde00]turns save editmode off" //feedback
		]
	] [ // if editmode isnt possible
		if (!= (gamemode) 1) [ //echo if you arent in edit
			echo "^f[0xFF3214]Acces denied, you need to be in ^f[0x359AF2]edit^f[0xFF3214]."

		] [ //when in edit then it echos only the required priv level
			if (= (getclientpriv ($getclientnum) $editlev_v) 1) [
				cond [= $editlev_v 1 ] [reqprivlev_s = "Player" //sets the priv level name to the string
					][= $editlev_v 2 ] [reqprivlev_s = "Supporter"
					][= $editlev_v 3 ] [reqprivlev_s = "Moderator"
					][= $editlev_v 4 ] [reqprivlev_s = "Operator"
					][= $editlev_v 5 ] [reqprivlev_s = "Administrator"
					][= $editlev_v 6 ] [reqprivlev_s = "Developer"
					][= $editlev_v 7 ] [reqprivlev_s = "Founder"
				]
				echo (format "^f[0xFF3214]Acces denied, you need to be a ^f[0x359AF2]%1^f[0xFF3214]." $reqprivlev_s)
			]
		]
	]
]