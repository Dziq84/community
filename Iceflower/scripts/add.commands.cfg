//Author: Iceflower


//PRIVLEV returns the privileg level you are
//hiw: getclientpriv returns one if you have this level and 0 if you havent
//for your own use: (privlev getclientnum)
setdesc "privlev" "returns the priv level of a player" "<cn>"
privlev = [
	cn_num = $arg1
	levtest = 1	//prepare loop
	loopwhile itemp 8 [ = $levtest 1 ] [	//counts to 7
		levtest = (getclientpriv $cn_num $itemp)
		privlev_v = $itemp	//save privlev because itemp will be cleared after the loop
	]
	result (- $privlev_v 1)	//privlev returns now the priv level value
]


//PLAYERSONSERV returns the number of player which are on the server
//hiw:	listclients returns a list of al cn, and isai looks if the cn is a ai, if not the cn will saved to the new list playercn_list
playersonserv = [
	playercn_list = []
			looplist  cn (listclients 1) [
				if  (! (isai $cn))  [
					playercn_list = (concat $playercn_list $cn)
				]
	]
	result (listlen $playercn_list)
]